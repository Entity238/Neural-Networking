package packOne;

import java.util.ArrayList;
import java.util.List;
import java.io.File;
import java.util.Scanner;
import java.io.FileWriter;
import java.io.IOException;

public class neuralNet {

	public static void main(String[] args) throws IOException {
		// TODO Auto-generated method stub
		List<Integer> layerList = new ArrayList<Integer>();
		layerList.add(10);
		layerList.add(10);
		layerList.add(10);
		layerList.add(5);
		layerList.add(1);
		String saveData="[[-0.8928914795310189, -5.592147893846362, -5.926787177509397, -7.684253019870961, -6.069563262636069, -2.7441549070649405, -6.319485443127201, -5.0551047127575295, -9.680726834103922, 6.317154977619926, -6.836825441870716, -4.0202852538603615, 3.1737911093689823, 4.585407806747802, 12.485548871964832, 6.8806118925566055, 6.363403500607743, 8.228030943418604, 12.107110073857116, -0.5747799253208389, -127.74810136636214, -109.61596635034194, -19.187972938838843, -3.2215556271539874, -25.1067277296406, 14.090048275453036, -4.127209573982335, 4.326594019106284, -14.01125605924875, -24.85467544222416, 34.16299879719835, 31.76936040727667, 23.143099908347203, 16.378988867217522, 17.66869950794627, 8.778903095863603, 10.996255225783793, 12.74633589179327, -49.19700682748935, -43.39988902933951, -34.014692581549845, -39.051749204847276, -19.080769496590314, 18.639455300864785, 23.411837174181755, 29.107672399710488, 33.804853283500634, 30.740748695698475, -65.44567723889939, -79.84601711429264, 1.826493679920884, 0.1015503193370491, 3.7117776521017793, -1.8515986249666945, -11.870676113195318, -11.368488294734634, -17.257026229369114, -15.314013494062518, -33.33632122721034, -33.66362517384591, 15.244057216641014, 13.111214241434276, 14.975012695130582, 11.301828941626354, 6.774702057310474, 15.001192826255531, 7.42256616034308, 7.488179736121797, -31.579321018734856, -44.80491055051914, 5.3465260117787725, 10.051695806781913, 15.98685753767556, 17.104757465042187, 18.078970833339532, 23.721353246576996, 16.29977826254827, 12.23746737758787, -67.82095864449131, -76.48031335787275, -68.21379924447842, -51.67567139612235, -48.2322863926383, -51.56604639972907, -53.337001470203724, -49.70931901640382, -56.21090092044846, -55.05474432933464, 6.19920899631452, -15.772271557242277, 46.00432756000998, 49.452601119914476, 49.54092144209473, 51.974876306145276, 47.389641490749646, 54.56303156869814, 48.76127719331137, 50.23887441970213, -147.0058191984226, -166.86576886507933, -8.764092439952629, 10.05991249023464, 10.896483132124645, 1.3640940656317697, 3.583405424027982, -27.233576448809828, 8.634391846185988, -6.143410252189135, 15.757988205632017, -40.65107618771841, 15.778514047409013, 32.49691484265579, 22.539428762099032, 18.046399248745082, 18.212616796483506, 5.185771188101359, 20.859499705420635, 14.584845640235141, 20.9399107551129, 14.405863925238943, -36.85760073765978, -28.25677564760144, 2.1894247914910094, 24.68566101892132, 33.15792686868998, 4.3545391295809734, 32.989136430271444, 25.283428676507473, 30.27104344217172, 14.952628398997218, -44.9803521421747, -22.156536765592694, 18.98272028315984, 21.103749634143586, 25.974618098431193, -9.318501895348978, 21.221282134643797, 12.413359686826857, 18.067188926229342, 8.859772059835866, 25.52505823394343, 25.941836590451835, 22.977291512956814, 13.456234762741003, 20.124001668022625, 5.14696355668011, 12.730597934283402, 10.04261932382053, 7.738598283287913, -0.17735319048037396, -27.349180837927047, 20.34409260240492, 10.650557689364796, 10.340717069171259, 15.966798529700082, -5.081333587653368, 13.533506299960969, 7.846398394358957, 12.819180435019348, -0.5101830518840083, -3.705942718852387, 6.1101300022501075, 11.201270385664229, 13.42154022899521, 13.0762692561952, -0.44921514611113905, 7.588069121300489, 9.86174939700717, 11.391113378777513, -1.3570025786991695, 6.189772562648112, 6.812148874394581, 16.711183323470344, 9.428822664535396, 11.54751426592954, 1.7247675164078664, 11.57638103599392, 4.188093875737492, 7.990858677149546, -0.6448768510888048, -87.53110503765537, -67.0401630362333, -28.81781038679571, -30.45353070485242, -27.898165218937812, -37.11544594367874, -15.197686444937105, -14.573979334620372, -8.105494212163212, -19.796802183448236, -26.92649430401606, -17.540143134625144, -14.62572031316719, -9.156056913746557, -16.83566879732837, -17.814760061361177, -12.749336749332986, -19.148800352455343, -14.689548304389438, -12.51362967606643, -29.312682915892985, 13.021030885008415, 17.823675968408278, 20.11387111156076, 29.715852717479112, 47.95920541270831, 36.77104393360357, 37.40630309811659, 37.36999186870441, 28.94802745266285, 27.11605251609326, 35.061742636572205, 38.80197060987228, 38.63383169581613, 41.15091762057326, 38.7764039523075, 40.20863746159004, 39.3392373106422, 43.041431378617915, 43.47846606678007, 45.59451855790182, 36.3829047649074, 32.99916058503814, 27.58453414309984, 34.257224289008825, -34.978498220715466, 10.2870493720898, 11.401157280831997, 10.476757210214904, 18.242808872602513, 29.069057235468858, 37.31807359208068, 44.82849280713813, 41.229786642479056, 37.059870154274684, -5.952062430855222, 31.814330586261647, 23.471277786083053, 24.32006042926282, 27.150854894255463, -30.5413498680754, 23.01267209865526, 23.22319777878808, 22.620360182281683, 31.948364017289006, -18.793932980210116, 8.670826412122269, 11.078965080975564, 3.7529909477796153, 22.184511784237106, 50.61982595096862, 44.976592267576265, 37.78016102011234, 28.941221725336614, 26.370809590655913], [54.83704558249781, 55.87834335957711, 54.30852354832224, 49.997322631263735, 51.968018604730325, 51.67418456300043, 46.16272616121267, 45.80331708422964, 49.91426096185924, 52.74997113206157, -15.111153045190326, 1.3455290297307159, 3.001843978600823, 4.531531408124171, 7.305018621570392, 13.208057774621883, 11.705176503809271, 8.077637054866916, 5.559002283115862, 0.11899321171186211, -77.16163683125401, -51.456228093827384, -43.88165474862657, -20.988421869027402, -4.744079503832746, -13.63520510584795, 9.474242491308074, -3.745336871290393, 10.580203096456126, 2.781870449376137, -67.16080019857733, -56.44791639914949, -44.08983436053867, -32.472167631801575, -25.319862398680076, -43.1242816650702]]";
		List<Double> savedWeights=new ArrayList<Double>();
		List<Double> savedBiases = new ArrayList<Double>();
		
		network myNet = new network(layerList);
		
		saveData=saveData.replaceAll("\\[", " ");
		saveData=saveData.replaceAll("\\]", " ");
		String[] newSaveData=saveData.split(",");
		for(int i=0;i<myNet.getWeights().size()+myNet.getBiases().size();i++) {
			if(i<myNet.getWeights().size()) {
				savedWeights.add(Double.parseDouble(newSaveData[i].trim()));
			}else {
				savedBiases.add(Double.parseDouble(newSaveData[i].trim()));
			}
		}
		myNet = new network(layerList,savedWeights,savedBiases);
		trainer myTrainer = new trainer(myNet,"myNewFile.txt","Cancer_Data.csv");
		
		myTrainer.train(0);
		
		
//		File myFile = new File("myFile.txt");
//		try {
//			FileWriter writer = new FileWriter(myFile);
//			double currentCost=myTrainer.cost(myNet.getWeights(), myNet.getBiases());
//			double newCost=currentCost+1;
//			int currentCounter=0;
//			while(true) {
//				myNet=new network(layerList);
//				myTrainer=new trainer(myNet,"myFile.txt","Cancer_Data.csv");
//				newCost=myTrainer.cost(myNet.getWeights(), myNet.getBiases());
//				if(newCost<currentCost) {
//					currentCost=newCost;
//					writer.write(myNet.getWeights()+"    "+myNet.getBiases()+"    "+newCost+" \r\n");
//					
//				}
//			}
//		} catch (IOException e) {
//			// TODO Auto-generated catch block
//			e.printStackTrace();
//		}
		
	}

}
